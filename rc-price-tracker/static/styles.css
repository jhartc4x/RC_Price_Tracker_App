@import "./design-tokens.css";

:root {
  --bg: var(--color-background);
  --panel: var(--color-panel);
  --panel-2: var(--color-panel-alt);
  --line: var(--color-border);
  --text: var(--color-text);
  --muted: var(--color-muted);
  --brand: var(--color-accent);
  --brand-2: var(--color-accent-2);
  --ok: var(--color-success);
  --warn: var(--color-warning);
  --err: var(--color-danger);
  --radius: var(--radius-md);
}


* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
body { font-family: var(--font-base); background: var(--bg); color: var(--text); }
a { color: inherit; text-decoration: none; }

.app-shell {
  width: min(1440px, 98vw);
  margin: 10px auto;
  display: grid;
  grid-template-columns: 240px minmax(0, 1fr);
  gap: var(--space-3);
}

.sidebar {
  background: var(--color-panel);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--space-3);
  position: sticky;
  top: 10px;
  height: calc(100vh - 20px);
  display: flex;
  flex-direction: column;
}

.brand { display: flex; gap: 10px; align-items: center; margin-bottom: 16px; }
.brand-badge { width: 34px; height: 34px; border-radius: 10px; display: grid; place-items: center; font-weight: 800; background: linear-gradient(145deg, var(--color-accent), var(--color-accent-2)); color: #fff; }
.brand strong { display:block; font-size: .95rem; }
.brand small { color: var(--muted); font-size: .73rem; display:block; }

.main-nav { display: grid; gap: 6px; }
.main-nav a {
  padding: 11px 12px;
  border-radius: 10px;
  color: #c4cbda;
  font-weight: 700;
  font-size: .95rem;
  display: flex;
  align-items: center;
  gap: 10px;
}
.nav-ic { width: 18px; text-align: center; font-size: 1rem; }
.main-nav a:hover { background: #131824; }
.main-nav a.active { background: #1a2233; color: #fff; border: 1px solid #2f3a54; }

.sidebar-run {
  margin-top: auto;
  border-top: 1px solid #232a3b;
  padding-top: 12px;
}
.sidebar-title { margin: 0 0 8px; color: #9aabcf; font-size: .75rem; text-transform: uppercase; letter-spacing: .06em; }
.sidebar-run-form { display: grid; gap: 8px; }

.workspace {
  background: linear-gradient(180deg, var(--color-gradient-start) 0%, var(--color-gradient-end) 100%);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  min-height: calc(100vh - 20px);
  overflow: hidden;
}

.page-content { padding: var(--space-4); }

.flash-stack { margin-bottom: 10px; }
.flash { background: #202737; border: 1px solid #343f58; border-radius: 10px; padding: 10px 12px; }
.flash-success { border-color: #2e8d5f; }
.flash-warning { border-color: #b2862f; }
.flash-error { border-color: #b34b5a; }

.hero-banner {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-3);
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  background: linear-gradient(135deg, rgba(35, 50, 88, 0.9), rgba(10, 32, 55, 0.95));
  border: 1px solid rgba(255, 255, 255, 0.1);
}
.eyebrow { text-transform: uppercase; font-size: .68rem; letter-spacing: .08em; color: #b7c3e6; font-weight: 700; }
.hero-banner h1 { margin: 6px 0; font-size: 1.85rem; }
.hero-banner p { margin: 0; color: #c4cde2; }

.dashboard-head,
.page-head {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 14px;
  display: grid;
  gap: 10px;
}
.dashboard-head h1,
.page-head h1 { margin: 6px 0 4px; font-size: 2rem; line-height: 1.08; letter-spacing: -.015em; }
.dashboard-head p,
.page-head p { margin: 0; color: #b4c0de; font-size: 1.01rem; line-height: 1.35; max-width: 72ch; }
.head-top { display: flex; justify-content: space-between; gap: 10px; align-items: start; }
.head-controls { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
.status-pill-wrap { display: flex; align-items: center; gap: 6px; }
.status-pill {
  background: var(--chip-bg);
  border: 1px solid var(--chip-border);
  color: var(--color-text);
  border-radius: 999px;
  padding: 7px 10px;
  font-size: .78rem;
  white-space: nowrap;
}
.status-pill strong { color: #e8efff; }
.btn-status { width: 30px; height: 30px; border-radius: 999px; padding: 0; display: inline-grid; place-items: center; font-weight: 800; }

.meta { color: var(--muted); font-size: .82rem; margin-top: 6px; }

.action-row, .run-form { display: flex; gap: 8px; flex-wrap: wrap; }
.btn { border: 0; border-radius: 10px; padding: 10px 14px; font-weight: 700; font-size: .9rem; cursor: pointer; }
.btn-primary { background: linear-gradient(145deg, var(--color-accent), var(--color-accent-2)); color: #041123; box-shadow: var(--shadow-sm); }
.btn-secondary { background: rgba(255,255,255,0.05); color: var(--color-muted); border: 1px solid rgba(255,255,255,0.12); }
.btn-ghost { background: transparent; color: #b4c0de; border: 1px dashed #45516d; }

input, select { width: 100%; border-radius: 10px; border: 1px solid #39445e; background: #161b28; color: #eaf0ff; padding: 11px 12px; font: inherit; font-size: 1.02rem; }
input::placeholder { color: #7f8ead; }

.metrics-grid { margin-top: 12px; display: grid; grid-template-columns: repeat(4,minmax(0,1fr)); gap: 10px; }
.metric { background: var(--panel); border: 1px solid var(--line); border-radius: 12px; padding: 13px; }
.metric span { color: #99a7c6; font-size: .74rem; text-transform: uppercase; letter-spacing: .05em; }
.metric strong { display:block; margin-top: 8px; font-size: 1.45rem; }

..section-block { margin-top: 14px; }
.section-head { margin-bottom: 10px; display:flex; justify-content:space-between; align-items:end; gap: 8px; }
.section-head h2 { margin:0; font-size: 1.28rem; line-height: 1.15; letter-spacing: -.01em; }
.section-head p { margin:5px 0 0; color: var(--muted); font-size: 1.02rem; }

.dashboard-layout { display:grid; grid-template-columns: 1.2fr .8fr; gap: 10px; }
.panel { background: var(--panel); border: 1px solid var(--line); border-radius: 12px; padding: 14px; }
.focus-list { list-style:none; margin:0; padding:0; display:grid; gap:9px; }
.focus-list li { background: var(--panel-2); border: 1px solid #333b4f; border-radius: 10px; padding: 11px 12px; display:flex; justify-content:space-between; }
.focus-list li span { color: var(--muted); }

.offer-list { display:grid; gap:8px; }
.offer-row { background: var(--panel-2); border:1px solid #333b4f; border-radius:10px; padding:10px; display:flex; justify-content:space-between; align-items:center; gap:10px; }
.offer-row p { margin:2px 0 0; color: var(--muted); font-size:.76rem; }
.offer-date { color: #d4def8; font-weight:700; font-size:.78rem; }

.table-wrap { background: var(--panel); border:1px solid var(--line); border-radius: 12px; overflow:auto; }
table { width:100%; border-collapse: collapse; }
th, td { padding: 11px 12px; border-bottom: 1px solid #2f3650; text-align:left; }
th { color:#9cadcf; font-size:.72rem; text-transform:uppercase; letter-spacing: .04em; }
td { font-size:.92rem; }

.cruise-grid { display:grid; grid-template-columns: repeat(2,minmax(0,1fr)); gap:10px; }
.cruise-card,.watch-card,.row-card,.empty-state,.addons-filter-bar,.addons-summary-strip,.settings-form .section-block {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 12px;
}
.cruise-card header,.watch-card header { padding:10px; border-bottom:1px solid #2f3650; }
.card-body { padding:10px; }
.meta-grid { display:grid; grid-template-columns: repeat(2,minmax(0,1fr)); gap:8px; }
.meta-item label { display:block; font-size:.66rem; color:#8f9ebf; text-transform:uppercase; }
.meta-item span { font-size:.86rem; font-weight:700; }

.addons-filter-bar { padding: 10px; display:grid; gap:8px; grid-template-columns: repeat(3,minmax(0,1fr)); }
.filter-group { display:grid; gap:4px; }
.filter-group label { color:#99a8c9; font-size:.73rem; font-weight:700; }
.addons-summary-strip { padding:10px; display:grid; gap:8px; grid-template-columns: repeat(4,minmax(0,1fr)); }
.summary-item .summary-label { color:#93a4c7; font-size:.67rem; text-transform:uppercase; }
.summary-item .summary-value { font-weight:800; }
.summary-item .summary-value.savings { color: var(--ok); }
.addons-tabs { display:flex; gap:6px; margin-bottom:8px; }
.tab-btn { border-radius:10px; border:1px solid #38445f; background:#1b2230; color:#c7d3ef; padding:8px 12px; }
.tab-btn.active { background:#2a3550; color:#fff; }
.tab-panel { display:none; }
.tab-panel.active { display:block; }
.savings-badge { border-radius:999px; padding:2px 8px; font-size:.72rem; font-weight:700; }
.savings-badge.positive { background:#214f3a; color:#9df0c8; }
.savings-badge.negative { background:#5b2430; color:#ffc1ca; }
.savings-badge.neutral { background:#2d3750; color:#becbe9; }

.row-grid { display:grid; gap:8px; }
.row-grid-account { grid-template-columns: repeat(3,minmax(0,1fr)); }
.row-grid-cruise { grid-template-columns: 2fr 1fr 1fr; }
.row-grid-settings { grid-template-columns: repeat(2,minmax(0,1fr)); }
.row-inline { display:flex; gap:8px; align-items:end; }
label { display:block; color:#c7d4f1; font-size:.82rem; }
label input,label select { margin-top:4px; }

.modal[hidden] { display:none; }
.modal { position:fixed; inset:0; z-index:90; }
.modal-backdrop { position:absolute; inset:0; background: rgba(4,7,13,.7); }
.modal-dialog { position:relative; width:min(980px,92vw); margin:6vh auto 0; background:#121722; border:1px solid #3a445f; border-radius:14px; padding:12px; max-height:86vh; overflow:auto; }

.empty-state { padding: 22px; text-align:center; color: var(--muted); }
.page-footer { text-align:center; color: var(--muted); font-size:.8rem; margin-top:12px; }

@media (max-width: 1180px) {
  .app-shell { grid-template-columns: 1fr; }
  .sidebar { position: static; height: auto; }
  .workspace { min-height: auto; }
}

@media (max-width: 980px) {
  .hero-banner { grid-template-columns: 1fr; }
  .metrics-grid { grid-template-columns: repeat(2,minmax(0,1fr)); }
  .dashboard-layout { grid-template-columns: 1fr; }
  .cruise-grid { grid-template-columns: 1fr; }
  .addons-filter-bar { grid-template-columns: 1fr; }
  .addons-summary-strip { grid-template-columns: repeat(2,minmax(0,1fr)); }
  .row-grid-account,.row-grid-cruise,.row-grid-settings { grid-template-columns:1fr; }
  .head-top { flex-direction: column; }
  .dashboard-head h1,
  .page-head h1 { font-size: 1.72rem; }
}

.drink-tool-form {
  margin-top: var(--space-4);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.drink-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: var(--space-2);
}

.drink-grid label {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  font-size: .9rem;
  background: rgba(255, 255, 255, 0.02);
  padding: var(--space-2);
  border-radius: var(--radius);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.drink-summary {
  margin-top: var(--space-3);
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-2);
}

.drink-summary div {
  background: var(--panel);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--radius);
  padding: var(--space-2);
}

.drink-breakdown {
  margin-top: var(--space-3);
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: var(--space-2);
}

.drink-breakdown article {
  background: var(--panel);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: var(--radius);
  padding: var(--space-2);
}

.addon-top-grid {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 14px;
  align-items: start;
}

.drink-tool-card {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: var(--space-3);
  box-shadow: var(--shadow-sm);
}

.card-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:var(--space-2); }
.card-head h3 { margin:0; font-size:1.1rem; }
.badge { border-radius:999px; padding:4px 10px; font-size:.7rem; text-transform:uppercase; letter-spacing:.08em; }
.badge.positive { background: rgba(56, 209, 143, .2); color: #29a36e; border: 1px solid rgba(56, 209, 143, .4); }
.card-body-text { margin:0 0 var(--space-2); color: var(--muted); }
.drink-list { margin:0 0 var(--space-2); padding-left:18px; color: var(--text); font-size:.92rem; }
.card-actions { display:flex; gap: var(--space-2); }

@media (max-width: 1180px) {
  .addon-top-grid { grid-template-columns: 1fr; }
}

.package-forecaster {
  margin-top: var(--space-4);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: var(--radius);
  padding: var(--space-3);
  background: var(--panel);
}

.package-grid {
  margin-top: var(--space-2);
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
  gap: var(--space-2);
}

.package-card {
  border-radius: var(--radius);
  background: rgba(255, 255, 255, 0.02);
  padding: var(--space-2);
  border: 1px solid rgba(255, 255, 255, 0.08);
  min-height: 120px;
}

.package-card.active {
  border-color: var(--color-accent);
  box-shadow: 0 0 0 2px rgba(95, 140, 255, 0.15);
}

.package-name { font-weight: 700; margin-bottom: var(--space-1); }
.package-desc { font-size: .85rem; color: var(--muted); margin-bottom: var(--space-1); }
.package-threshold { font-size: .8rem; color: var(--color-accent); }
