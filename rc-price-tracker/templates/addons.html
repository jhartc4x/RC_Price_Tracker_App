{% extends "base.html" %}
{% block title %}Add-ons Explorer | Royal Caribbean Price Companion{% endblock %}
{% block content %}
<section class="hero-banner hero-addons">
    <div>
        <span class="eyebrow">Add-on Intelligence</span>
        <h1>Compare purchased vs live add-on pricing.</h1>
        <p>Browse sailing-level offers, identify savings quickly, and keep purchased extras optimized.</p>
    </div>
</section>

<section class="section-block">
    <div class="section-head">
        <div>
            <h2>Select Sailing</h2>
            <p>Choose ship + sail date to fetch available and purchased add-ons.</p>
        </div>
    </div>

    <div class="addons-filter-bar" id="addons-filter-bar">
        <div class="filter-group">
            <label for="filter-ship">Ship</label>
            <select id="filter-ship" aria-label="Select Ship">
                <option value="">Loading ships...</option>
            </select>
        </div>
        <div class="filter-group">
            <label for="filter-date">Sail Date</label>
            <select id="filter-date" aria-label="Select Sail Date" disabled>
                <option value="">Select a Ship First</option>
            </select>
        </div>
        <button id="filter-go" class="btn btn-primary" disabled>
            <span id="filter-go-text">Load Add-ons</span>
        </button>
    </div>
</section>

<section class="section-block" id="addons-results" style="display: none;">
    <div class="addons-summary-strip" id="addons-summary"></div>

    <div class="addons-tabs">
        <button class="tab-btn active" data-tab="purchased">My Purchases</button>
        <button class="tab-btn" data-tab="available">Available</button>
    </div>

    <div class="tab-panel active" id="panel-purchased">
        <div class="table-wrap">
            <table>
                <thead>
                    <tr>
                        <th>Add-on</th>
                        <th>Guest</th>
                        <th>Paid</th>
                        <th>Current</th>
                        <th>Savings</th>
                    </tr>
                </thead>
                <tbody id="purchased-body">
                    <tr>
                        <td colspan="5" style="text-align:center; color: var(--muted);">Select a sailing to view add-ons.</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="tab-panel" id="panel-available">
        <div class="table-wrap">
            <table>
                <thead>
                    <tr>
                        <th>Add-on</th>
                        <th>Category</th>
                        <th>Regular</th>
                        <th>Current Price</th>
                    </tr>
                </thead>
                <tbody id="available-body">
                    <tr>
                        <td colspan="4" style="text-align:center; color: var(--muted);">Select a sailing to view add-ons.</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<footer class="page-footer">
    <p>RC Price Companion</p>
</footer>
{% endblock %}
